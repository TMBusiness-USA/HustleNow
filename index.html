<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hustle Tracker</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Mono:wght@400;500&display=swap" rel="stylesheet">
<style>
  :root {
    --green: #00ff88;
    --dark: #0a0a0a;
    --card: #111111;
    --border: #222;
    --text: #e8e8e8;
    --muted: #555;
    --red: #ff4455;
    --yellow: #ffcc00;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--dark);
    color: var(--text);
    font-family: 'DM Mono', monospace;
    min-height: 100vh;
    padding-bottom: 80px;
    overflow-x: hidden;
  }

  .nav {
    display: flex;
    gap: 0;
    background: #0d0d0d;
    border-bottom: 1px solid var(--border);
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .nav-btn {
    flex: 1;
    padding: 14px 8px;
    background: none;
    border: none;
    color: var(--muted);
    font-family: 'Bebas Neue';
    font-size: 16px;
    letter-spacing: 2px;
    cursor: pointer;
    border-bottom: 2px solid transparent;
    transition: all 0.2s;
  }

  .nav-btn.active {
    color: var(--green);
    border-bottom-color: var(--green);
  }

  .page { display: none; padding: 20px 16px; animation: fadeIn 0.2s ease; }
  .page.active { display: block; }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(6px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .page-title {
    font-family: 'Bebas Neue';
    font-size: clamp(42px, 10vw, 72px);
    line-height: 0.9;
    color: var(--green);
    text-shadow: 0 0 30px rgba(0,255,136,0.25);
    margin-bottom: 4px;
  }

  .page-sub {
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 24px;
  }

  .section-label {
    font-size: 10px;
    letter-spacing: 3px;
    color: var(--muted);
    text-transform: uppercase;
    margin-bottom: 10px;
    margin-top: 20px;
    padding-bottom: 8px;
    border-bottom: 1px solid #1a1a1a;
  }

  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 18px;
    margin-bottom: 12px;
  }

  input, select, textarea {
    width: 100%;
    background: #161616;
    border: 1px solid var(--border);
    border-radius: 8px;
    color: var(--text);
    font-family: 'DM Mono', monospace;
    font-size: 13px;
    padding: 12px;
    outline: none;
    transition: border-color 0.2s;
    margin-bottom: 10px;
  }
  input:focus, select:focus, textarea:focus { border-color: var(--green); }
  select option { background: #1a1a1a; }
  textarea { resize: vertical; min-height: 54px; }

  .row { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }

  .btn {
    width: 100%;
    padding: 13px;
    font-family: 'Bebas Neue';
    font-size: 18px;
    letter-spacing: 2px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: opacity 0.15s, transform 0.1s;
  }
  .btn:active { transform: scale(0.97); }
  .btn-green { background: var(--green); color: #000; }
  .btn-grey { background: #1e1e1e; color: var(--text); border: 1px solid #333; }
  .btn-red { background: #1e1e1e; color: var(--red); border: 1px solid #2a1a1a; }

  .hustle-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 18px;
    margin-bottom: 12px;
    cursor: pointer;
    transition: border-color 0.2s, transform 0.15s;
    animation: slideIn 0.3s ease;
  }
  .hustle-card:active { transform: scale(0.98); }
  .hustle-card:hover { border-color: #444; }
  .hustle-card.selected { border-color: var(--green); }

  .hustle-name {
    font-family: 'Bebas Neue';
    font-size: 26px;
    color: var(--text);
    letter-spacing: 1px;
    margin-bottom: 4px;
  }

  .hustle-meta {
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 2px;
    text-transform: uppercase;
  }

  .hustle-earned {
    font-family: 'Bebas Neue';
    font-size: 22px;
    color: var(--green);
    margin-top: 8px;
  }

  .hustle-bar {
    height: 4px;
    background: #1a1a1a;
    border-radius: 99px;
    margin-top: 10px;
    overflow: hidden;
  }

  .hustle-bar-fill {
    height: 100%;
    background: linear-gradient(90deg, #00cc66, var(--green));
    border-radius: 99px;
    box-shadow: 0 0 8px rgba(0,255,136,0.4);
  }

  .hustle-actions {
    display: flex;
    gap: 8px;
    margin-top: 12px;
  }

  .hustle-actions .btn { font-size: 14px; padding: 10px; }

  .progress-box {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 18px;
    margin-bottom: 16px;
  }

  .progress-header {
    display: flex;
    justify-content: space-between;
    align-items: baseline;
    margin-bottom: 10px;
  }

  .progress-label { font-size: 10px; letter-spacing: 3px; color: var(--muted); text-transform: uppercase; }
  .progress-current { font-family: 'Bebas Neue'; font-size: 36px; color: var(--green); }
  .progress-goal { font-size: 13px; color: var(--muted); }

  .progress-bar-full {
    height: 8px;
    background: #1a1a1a;
    border-radius: 99px;
    overflow: hidden;
  }

  .progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #00cc66, var(--green));
    border-radius: 99px;
    box-shadow: 0 0 12px rgba(0,255,136,0.5);
    transition: width 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
    width: 0%;
  }

  .stats-row {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 8px;
    margin-top: 14px;
  }

  .stat {
    text-align: center;
    padding: 10px 4px;
    background: #161616;
    border-radius: 8px;
  }

  .stat-val { font-family: 'Bebas Neue'; font-size: 22px; color: var(--green); line-height: 1; }
  .stat-label { font-size: 8px; color: var(--muted); letter-spacing: 1px; text-transform: uppercase; margin-top: 3px; }

  .entry-card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 14px;
    margin-bottom: 10px;
    display: grid;
    grid-template-columns: 1fr auto;
    gap: 8px;
    align-items: start;
    animation: slideIn 0.3s ease;
  }

  @keyframes slideIn {
    from { opacity: 0; transform: translateY(-6px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .entry-tag {
    font-size: 9px;
    letter-spacing: 2px;
    text-transform: uppercase;
    padding: 3px 8px;
    border-radius: 4px;
    background: #1a1a1a;
    border: 1px solid #2a2a2a;
    display: inline-block;
    margin-bottom: 5px;
  }

  .entry-desc { font-size: 13px; color: var(--text); }
  .entry-notes { font-size: 11px; color: var(--muted); margin-top: 3px; font-style: italic; }
  .entry-date { font-size: 10px; color: var(--muted); margin-top: 5px; }
  .entry-amount { font-family: 'Bebas Neue'; font-size: 28px; color: var(--green); text-align: right; line-height: 1; }

  .del-btn {
    background: none;
    border: none;
    color: #333;
    cursor: pointer;
    font-size: 14px;
    display: block;
    margin-top: 4px;
    margin-left: auto;
    transition: color 0.2s;
  }
  .del-btn:hover { color: var(--red); }

  .goal-banner {
    background: linear-gradient(135deg, #00ff88, #00cc66);
    color: #000;
    text-align: center;
    padding: 16px;
    border-radius: 12px;
    margin-bottom: 16px;
    font-family: 'Bebas Neue';
    font-size: 26px;
    letter-spacing: 2px;
    display: none;
    animation: pop 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  @keyframes pop {
    from { transform: scale(0.9); opacity: 0; }
    to { transform: scale(1); opacity: 1; }
  }

  .grand-total-box {
    background: linear-gradient(135deg, #0d1f14, #0a0a0a);
    border: 1px solid #1a3a25;
    border-radius: 16px;
    padding: 28px 20px;
    text-align: center;
    margin-bottom: 20px;
  }

  .grand-number {
    font-family: 'Bebas Neue';
    font-size: clamp(64px, 18vw, 110px);
    color: var(--green);
    text-shadow: 0 0 40px rgba(0,255,136,0.4);
    line-height: 1;
  }

  .grand-label { font-size: 10px; color: var(--muted); letter-spacing: 4px; text-transform: uppercase; margin-top: 6px; }

  .grand-stats {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 10px;
    margin-top: 20px;
  }

  .grand-stat {
    background: #161616;
    border-radius: 10px;
    padding: 14px 8px;
    text-align: center;
  }

  .grand-stat-val { font-family: 'Bebas Neue'; font-size: 28px; color: var(--green); }
  .grand-stat-label { font-size: 9px; color: var(--muted); letter-spacing: 2px; text-transform: uppercase; margin-top: 4px; }

  .all-jobs-entry {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 14px;
    margin-bottom: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .all-jobs-left { flex: 1; }
  .all-jobs-hustle { font-size: 9px; color: var(--green); letter-spacing: 2px; text-transform: uppercase; margin-bottom: 3px; }
  .all-jobs-desc { font-size: 13px; color: var(--text); }
  .all-jobs-date { font-size: 10px; color: var(--muted); margin-top: 3px; }
  .all-jobs-amount { font-family: 'Bebas Neue'; font-size: 26px; color: var(--green); margin-left: 12px; }

  .empty {
    text-align: center;
    padding: 30px 20px;
    color: var(--muted);
    font-size: 11px;
    letter-spacing: 2px;
  }
  .empty-icon { font-size: 30px; margin-bottom: 10px; opacity: 0.3; }

  .back-btn {
    background: none;
    border: none;
    color: var(--muted);
    font-family: 'DM Mono';
    font-size: 12px;
    cursor: pointer;
    padding: 0;
    margin-bottom: 16px;
    letter-spacing: 1px;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: color 0.2s;
  }
  .back-btn:hover { color: var(--text); }
</style>
</head>
<body>

<div class="nav">
  <button class="nav-btn active" onclick="showPage('hustles')">HUSTLES</button>
  <button class="nav-btn" onclick="showPage('hustle')" id="hustleNavBtn">HUSTLE</button>
  <button class="nav-btn" onclick="showPage('totals')">TOTALS</button>
</div>

<!-- PAGE: HUSTLES -->
<div class="page active" id="page-hustles">
  <div class="page-title">HUSTLES</div>
  <p class="page-sub">Select or create a hustle to start tracking</p>

  <div class="card">
    <div class="section-label" style="margin-top:0;">+ New Hustle</div>
    <input type="text" id="projName" placeholder="Hustle name (e.g. Spring Break Week 1)">
    <div class="row">
      <input type="number" id="projGoal" placeholder="$ Goal" min="1">
      <input type="text" id="projDate" placeholder="Date range (e.g. Mar 1‚Äì7)">
    </div>
    <button class="btn btn-green" onclick="createHustle()">CREATE HUSTLE</button>
  </div>

  <div class="section-label">Your Hustles</div>
  <div id="hustleList">
    <div class="empty"><div class="empty-icon">üìÅ</div>No hustles yet. Create one above.</div>
  </div>
</div>

<!-- PAGE: HUSTLE LOG -->
<div class="page" id="page-hustle">
  <button class="back-btn" onclick="showPage('hustles')">‚Üê All Hustles</button>
  <div class="page-title" id="hustleTitle">HUSTLE</div>
  <p class="page-sub" id="hustleSub">‚Äî</p>

  <div class="goal-banner" id="goalBanner">üéâ GOAL CRUSHED üéâ</div>

  <div class="progress-box">
    <div class="progress-header">
      <span class="progress-label">Earned</span>
      <span><span class="progress-current" id="earnedDisplay">$0</span><span class="progress-goal" id="goalDisplay"> / $500</span></span>
    </div>
    <div class="progress-bar-full"><div class="progress-fill" id="progressFill"></div></div>
    <div class="stats-row">
      <div class="stat"><div class="stat-val" id="jobCount">0</div><div class="stat-label">Jobs</div></div>
      <div class="stat"><div class="stat-val" id="remainDisplay">$500</div><div class="stat-label">To Go</div></div>
      <div class="stat"><div class="stat-val" id="avgDisplay">$0</div><div class="stat-label">Avg</div></div>
      <div class="stat"><div class="stat-val" id="doorCount">0</div><div class="stat-label">Doors</div></div>
    </div>
  </div>

  <div class="section-label">üí∞ Log a Completed Job</div>
  <div class="card">
    <div class="row">
      <input type="text" id="jobType" placeholder="Job type (Lawn, Pressure Wash‚Ä¶)">
      <input type="number" id="jobAmount" placeholder="$ Earned" min="0" step="0.01">
    </div>
    <input type="text" id="jobDesc" placeholder="Address or description">
    <textarea id="jobNotes" placeholder="Notes (optional)" style="min-height:48px;"></textarea>
    <button class="btn btn-green" onclick="addJob()">LOG JOB</button>
  </div>

  <div class="section-label">üö™ Log a Door Knocked</div>
  <div class="card" style="border-color:#1a1a1a;">
    <div class="row">
      <input type="text" id="houseAddr" placeholder="Address or description">
      <select id="houseResult">
        <option value="success">‚úÖ Got the Job</option>
        <option value="maybe">ü§î Maybe / Call Back</option>
        <option value="no">‚ùå Not Interested</option>
        <option value="noAnswer">üîá No Answer</option>
      </select>
    </div>
    <textarea id="houseNotes" placeholder="Notes (optional)" style="min-height:40px;"></textarea>
    <button class="btn btn-grey" onclick="addHouse()">LOG DOOR</button>
  </div>

  <div class="section-label" id="jobsLabel">All Jobs</div>
  <div id="jobList"><div class="empty"><div class="empty-icon">üíº</div>No jobs yet.</div></div>

  <div class="section-label" id="doorLabel" style="display:none;">Doors Knocked</div>
  <div id="houseList"></div>
</div>

<!-- PAGE: TOTALS -->
<div class="page" id="page-totals">
  <div class="page-title">TOTALS</div>
  <p class="page-sub">All time earnings across every hustle</p>

  <div class="grand-total-box">
    <div class="grand-number" id="grandTotal">$0</div>
    <div class="grand-label">Total Earned All Time</div>
    <div class="grand-stats">
      <div class="grand-stat">
        <div class="grand-stat-val" id="grandJobs">0</div>
        <div class="grand-stat-label">Total Jobs</div>
      </div>
      <div class="grand-stat">
        <div class="grand-stat-val" id="grandHustles">0</div>
        <div class="grand-stat-label">Hustles</div>
      </div>
      <div class="grand-stat">
        <div class="grand-stat-val" id="grandAvg">$0</div>
        <div class="grand-stat-label">Avg/Job</div>
      </div>
    </div>
  </div>

  <div class="section-label">All Jobs ‚Äî Every Hustle</div>
  <div id="allJobsList"><div class="empty"><div class="empty-icon">üìä</div>No jobs logged yet.</div></div>
</div>

<script>
  let data = JSON.parse(localStorage.getItem('hustleData') || '{"hustles":[]}');
  let activeHustleId = null;

  function save() { localStorage.setItem('hustleData', JSON.stringify(data)); }

  function ts() {
    return new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', hour: '2-digit', minute: '2-digit' });
  }

  function getHustle(id) { return data.hustles.find(p => p.id === id); }

  function showPage(name) {
    document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    document.getElementById('page-' + name).classList.add('active');
    const navMap = { hustles: 0, hustle: 1, totals: 2 };
    document.querySelectorAll('.nav-btn')[navMap[name]].classList.add('active');
    if (name === 'totals') renderTotals();
    if (name === 'hustle' && activeHustleId) renderHustle();
  }

  function createHustle() {
    const name = document.getElementById('projName').value.trim();
    const goal = parseFloat(document.getElementById('projGoal').value) || 500;
    const date = document.getElementById('projDate').value.trim();
    if (!name) {
      const el = document.getElementById('projName');
      el.style.borderColor = '#ff4455';
      setTimeout(() => el.style.borderColor = '', 1000);
      return;
    }
    const hustle = { id: Date.now(), name, goal, date: date || '', jobs: [], houses: [], created: ts() };
    data.hustles.unshift(hustle);
    save();
    renderHustles();
    document.getElementById('projName').value = '';
    document.getElementById('projGoal').value = '';
    document.getElementById('projDate').value = '';
  }

  function openHustle(id) {
    activeHustleId = id;
    const hustle = getHustle(id);
    document.getElementById('hustleTitle').textContent = hustle.name.toUpperCase();
    document.getElementById('hustleSub').textContent = hustle.date || 'No date set';
    document.getElementById('hustleNavBtn').style.color = 'var(--green)';
    renderHustle();
    showPage('hustle');
  }

  function deleteHustle(id) {
    if (!confirm('Delete this hustle and all its data?')) return;
    data.hustles = data.hustles.filter(p => p.id !== id);
    if (activeHustleId === id) activeHustleId = null;
    save();
    renderHustles();
  }

  function renderHustles() {
    const list = document.getElementById('hustleList');
    if (!data.hustles.length) {
      list.innerHTML = '<div class="empty"><div class="empty-icon">üìÅ</div>No hustles yet. Create one above.</div>';
      return;
    }
    list.innerHTML = data.hustles.map(p => {
      const earned = p.jobs.reduce((s, j) => s + j.amount, 0);
      const pct = Math.min((earned / p.goal) * 100, 100);
      const isActive = p.id === activeHustleId;
      return `
        <div class="hustle-card ${isActive ? 'selected' : ''}" onclick="openHustle(${p.id})">
          <div style="display:flex; justify-content:space-between; align-items:flex-start;">
            <div>
              <div class="hustle-name">${p.name}</div>
              <div class="hustle-meta">${p.date || 'No date'} ¬∑ ${p.jobs.length} jobs ¬∑ Goal: $${p.goal}</div>
            </div>
            <div class="hustle-earned">$${earned.toFixed(0)}</div>
          </div>
          <div class="hustle-bar"><div class="hustle-bar-fill" style="width:${pct}%"></div></div>
          <div class="hustle-actions">
            <button class="btn btn-green" style="font-size:13px; padding:9px;" onclick="event.stopPropagation(); openHustle(${p.id})">OPEN ‚Üí</button>
            <button class="btn btn-red" style="font-size:13px; padding:9px; flex:0 0 auto; width:auto; padding:9px 16px;" onclick="event.stopPropagation(); deleteHustle(${p.id})">DELETE</button>
          </div>
        </div>`;
    }).join('');
  }

  const resultInfo = {
    success:  { label: '‚úÖ Got the Job',      color: '#00ff88' },
    maybe:    { label: 'ü§î Maybe / Call Back', color: '#ffcc00' },
    no:       { label: '‚ùå Not Interested',    color: '#ff4455' },
    noAnswer: { label: 'üîá No Answer',         color: '#666'    },
  };

  function addJob() {
    if (!activeHustleId) return;
    const type = document.getElementById('jobType').value.trim();
    const amount = parseFloat(document.getElementById('jobAmount').value);
    const desc = document.getElementById('jobDesc').value.trim();
    const notes = document.getElementById('jobNotes').value.trim();
    if (!amount || amount <= 0) {
      const el = document.getElementById('jobAmount');
      el.focus(); el.style.borderColor = '#ff4455';
      setTimeout(() => el.style.borderColor = '', 1000);
      return;
    }
    const hustle = getHustle(activeHustleId);
    hustle.jobs.unshift({ id: Date.now(), type: type || 'Other', amount, desc: desc || 'Job', notes, date: ts() });
    save(); renderHustle();
    ['jobType','jobAmount','jobDesc','jobNotes'].forEach(id => document.getElementById(id).value = '');
  }

  function addHouse() {
    if (!activeHustleId) return;
    const addr = document.getElementById('houseAddr').value.trim();
    const result = document.getElementById('houseResult').value;
    const notes = document.getElementById('houseNotes').value.trim();
    const hustle = getHustle(activeHustleId);
    hustle.houses.unshift({ id: Date.now(), addr: addr || 'Unknown', result, notes, date: ts() });
    save(); renderHustle();
    document.getElementById('houseAddr').value = '';
    document.getElementById('houseNotes').value = '';
  }

  function deleteJob(id) {
    const hustle = getHustle(activeHustleId);
    hustle.jobs = hustle.jobs.filter(j => j.id !== id);
    save(); renderHustle(); renderHustles();
  }

  function deleteHouse(id) {
    const hustle = getHustle(activeHustleId);
    hustle.houses = hustle.houses.filter(h => h.id !== id);
    save(); renderHustle();
  }

  function renderHustle() {
    if (!activeHustleId) return;
    const hustle = getHustle(activeHustleId);
    if (!hustle) return;

    const total = hustle.jobs.reduce((s, j) => s + j.amount, 0);
    const pct = Math.min((total / hustle.goal) * 100, 100);
    const remain = Math.max(hustle.goal - total, 0);
    const avg = hustle.jobs.length ? total / hustle.jobs.length : 0;

    document.getElementById('earnedDisplay').textContent = '$' + total.toFixed(2);
    document.getElementById('goalDisplay').textContent = ' / $' + hustle.goal;
    document.getElementById('progressFill').style.width = pct + '%';
    document.getElementById('remainDisplay').textContent = '$' + remain.toFixed(0);
    document.getElementById('avgDisplay').textContent = '$' + avg.toFixed(0);
    document.getElementById('jobCount').textContent = hustle.jobs.length;
    document.getElementById('doorCount').textContent = hustle.houses.length;
    document.getElementById('goalBanner').style.display = total >= hustle.goal ? 'block' : 'none';
    document.getElementById('goalBanner').textContent = 'üéâ $' + hustle.goal + ' GOAL CRUSHED ‚Äî LET\'S GO üéâ';
    document.getElementById('jobsLabel').textContent = hustle.jobs.length ? 'All Jobs (' + hustle.jobs.length + ')' : 'All Jobs';

    const jobList = document.getElementById('jobList');
    jobList.innerHTML = !hustle.jobs.length
      ? '<div class="empty"><div class="empty-icon">üíº</div>No jobs yet.</div>'
      : hustle.jobs.map(j => `
          <div class="entry-card">
            <div>
              <span class="entry-tag" style="color:var(--green);">${j.type}</span>
              <div class="entry-desc">${j.desc}</div>
              ${j.notes ? '<div class="entry-notes">' + j.notes + '</div>' : ''}
              <div class="entry-date">${j.date}</div>
            </div>
            <div style="text-align:right">
              <div class="entry-amount">$${j.amount.toFixed(0)}</div>
              <button class="del-btn" onclick="deleteJob(${j.id})">‚úï</button>
            </div>
          </div>`).join('');

    const doorLabel = document.getElementById('doorLabel');
    const houseList = document.getElementById('houseList');
    if (!hustle.houses.length) {
      doorLabel.style.display = 'none';
      houseList.innerHTML = '';
    } else {
      doorLabel.style.display = 'block';
      doorLabel.textContent = 'Doors Knocked (' + hustle.houses.length + ')';
      houseList.innerHTML = hustle.houses.map(h => {
        const info = resultInfo[h.result] || resultInfo.no;
        return `
          <div class="entry-card" style="border-color:#1a1a1a;">
            <div>
              <span class="entry-tag" style="color:${info.color};">${info.label}</span>
              <div class="entry-desc">${h.addr}</div>
              ${h.notes ? '<div class="entry-notes">' + h.notes + '</div>' : ''}
              <div class="entry-date">${h.date}</div>
            </div>
            <button class="del-btn" onclick="deleteHouse(${h.id})">‚úï</button>
          </div>`;
      }).join('');
    }
  }

  function renderTotals() {
    const allJobs = data.hustles.flatMap(p => p.jobs.map(j => ({ ...j, hustleName: p.name })));
    const grandTotal = allJobs.reduce((s, j) => s + j.amount, 0);
    const avgAll = allJobs.length ? grandTotal / allJobs.length : 0;

    document.getElementById('grandTotal').textContent = '$' + grandTotal.toFixed(2);
    document.getElementById('grandJobs').textContent = allJobs.length;
    document.getElementById('grandHustles').textContent = data.hustles.length;
    document.getElementById('grandAvg').textContent = '$' + avgAll.toFixed(0);

    const list = document.getElementById('allJobsList');
    if (!allJobs.length) {
      list.innerHTML = '<div class="empty"><div class="empty-icon">üìä</div>No jobs logged yet.</div>';
      return;
    }

    const sorted = [...allJobs].sort((a, b) => b.id - a.id);
    list.innerHTML = sorted.map(j => `
      <div class="all-jobs-entry">
        <div class="all-jobs-left">
          <div class="all-jobs-hustle">${j.hustleName}</div>
          <div class="all-jobs-desc">${j.desc} ‚Äî ${j.type}</div>
          <div class="all-jobs-date">${j.date}</div>
        </div>
        <div class="all-jobs-amount">$${j.amount.toFixed(0)}</div>
      </div>`).join('');
  }

  renderHustles();
</script>
</body>
</html> 
